{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "streams/schema/streams.schema.json",
    "title": "Stream",
    "description": "A stream definition",
    "type": "object",
    "$defs": {
        "config": {
            "type": "object",
            "properties": {
                "prototype":  {"type": "string"},
                "collection": {"type": "string"}
            }
        }
    },
    "properties": {
        "handle": {
            "description": "The stream handle",
            "type": "string"
        },
        "name": {
            "description": "The stream name",
            "type": "string"
        },
        "description": {"description": "The stream description.","type": "string"},
        "template": {"description": "Blade template file","type": "string"},
        "translatable": {"description": "Gives multilingual options to the stream","type": "boolean"},
        "project": {"description": "The project this stream belongs to","type": "string"},
        "url_prefix": {"description": "Prefix this stream's url","type": "string"},
        "rules": {"$ref": "rules.schema.json"},
        "fields": {"$ref": "fields.schema.json"},
        "source": {"$ref": "source.schema.json"},
        "source.format": {"$ref": "source.schema.json/#/$defs/format"},
        "routes": {"$ref": "routes.schema.json"},
        "routes.view": {"$ref": "routes.schema.json/#/$defs/view"},
        "routes.view.uri": {"$ref": "routes.schema.json/#/$defs/view.uri"},
        "routes.index": {"$ref": "routes.schema.json/#/$defs/index"}
    }
}
