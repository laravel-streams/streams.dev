{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "streams/schema/field.schema.json",
    "description": "Field definitions for the stream",
    "$defs": {
        "types": {
            "type": "string",
            "enum": [
                "uuid",
                "string",
                "url",
                "text",
                "hash",
                "slug",
                "email",
                "markdown",
                "template",
                "number",
                "integer",
                "float",
                "decimal",
                "boolean",
                "array",
                "prototype",
                "object",
                "image",
                "file",
                "datetime",
                "date",
                "time",
                "select",
                "multiselect",
                "collection",
                "entry",
                "entries",
                "multiple",
                "polymorphic",
                "relationship",
                "color"
            ]
        },
        "config": {
            "type": "object"
        },
        "field": {
            "type": "object",
            "properties": {
                "type": {"$ref": "#/$defs/types"},
                "rules": {"anyOf": [{"$ref": "#/$defs/rule"},{"$ref": "#/$defs/rules"}]}
            },
            "additionalProperties": true
        },
        "rules": {
            "type": "string"
        },
        "rule": {
            "type": "array"
        }
    },
    "patternProperties": {
        "^(?![\\.0-9]).": {
            "anyOf": [
                {"$ref": "#/$defs/types"},
                {"$ref": "#/$defs/field"},
                {"$ref": "types/collection.schema.json"},
                {"$ref": "types/entries.schema.json"},
                {"$ref": "types/entry.schema.json"},
                {"$ref": "types/file.schema.json"},
                {"$ref": "types/hash.schema.json"},
                {"$ref": "types/multiple.schema.json"},
                {"$ref": "types/multiselect.schema.json"},
                {"$ref": "types/polymorphic.schema.json"},
                {"$ref": "types/relationship.schema.json"},
                {"$ref": "types/select.schema.json"},
                {"$ref": "types/slug.schema.json"}
            ]
        }
    }
}
